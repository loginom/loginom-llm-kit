# Подключение. GigaChat

[Назад к списку компонентов](../README.md)

## Назначение

Компонент для настройки подключения к **GigaChat API**. В компоненте реализовано обращение к сервису: https://ngw.devices.sberbank.ru:9443/api/v2/oauth для получения токена доступа.

## Входные порты

| Название  | Тип        |
| :-------- | :--------- |
| Реквизиты | Переменные |
| Параметры | Переменные |
| Настройки | Переменные |

### Переменные в порте "Реквизиты"

| №   | Метка   | Тип                             | Значение по умолчанию                                        |
| :-- | :------ | :------------------------------ | :----------------------------------------------------------- |
| 1   | url     | ![](./img/string.svg) Строковый | https://gigachat.devices.sberbank.ru/api/v1/chat/completions |
| 2   | api_key | ![](./img/string.svg) Строковый | null                                                         |
| 3   | model   | ![](./img/string.svg) Строковый | null                                                     |

1. **url** — эндпоинт API чата **GigaChat**. Источник: https://developers.sber.ru/docs/ru/gigachat/api/reference/rest/post-chat
2. **api_key** — необходимо указать **Authorization key** для получения токена доступа.
3. **model** — идентификатор модели **GigaChat** для использования в запросах. Список доступных моделей: https://developers.sber.ru/docs/ru/gigachat/models

### Переменные в порте "Параметры"

| №   | Метка       | Тип                                    | Значение по умолчанию |
| :-- | :---------- | :------------------------------------- | :-------------------- |
| 1   | temperature | ![](./img/realnumber.svg) Вещественный | 0.7                   |
| 2   | max_tokens  | ![](./img/integer.svg) Целый           | 1000                  |

1. **temperature** — параметр, влияющий на случайность ответов (0-2)
2. **max_tokens** —  максимальное количество токенов в ответе. По умолчанию `1000`.

### Переменные в порте "Настройки"

| №   | Метка             | Тип                               | Значение по умолчанию |
| :-- | :---------------- | :-------------------------------- | :-------------------- |
| 1   | Путь к файлу      | ![](./img/string.svg) Строковый   | /credentials          |
| 2   | Имя файла         | ![](./img/string.svg) Строковый   | gigachat.params       |
| 3   | Использовать файл | ![](./img/logical.svg) Логический | true                  |

1. **Путь к файлу** — расположение файла `gigachat.params`. По умолчанию в папке `credentials`.
2. **Имя файла** — имя файла, включая расширение файла, в котором указаны реквизиты и параметры. По умолчанию `gigachat.params`.
3. **Использовать файл** — использовать реквизиты и параметры из файла. По умолчанию `true`. При значении `false` реквизиты и параметры используются из входных портов.

## Выходные порты

| Название     | Тип        |
| :----------- | :--------- |
| Реквизиты    | Переменные |
| Параметры    | Таблица    |
| Путь к файлу | Переменные |

### Переменные в порте "Реквизиты"

| №   | Метка   | Тип                             |
| :-- | :------ | :------------------------------ |
| 1   | url     | ![](./img/string.svg) Строковый |
| 2   | api_key | ![](./img/string.svg) Строковый |
| 3   | model   | ![](./img/string.svg) Строковый |

### Структура таблицы "Параметры"

| Метка | Тип                                 | Описание           |
| :---- | :---------------------------------- | :----------------- |
| Name  | ![](./img/string.svg) Строковый     | Имя параметра      |
| Value | ![](./img/undefined.svg) Переменный | Значение параметра |

### Переменные в порте "Путь к файлу"

| №   | Метка        | Тип                             |
| :-- | :----------- | :------------------------------ |
| 1   | Путь к файлу | ![](./img/string.svg) Строковый |