# Схема запроса. JSON

[Назад к списку компонентов](../README.md)

## Назначение

Компонент для формирования JSON-строки запроса к эндпоинт API чата LLM-сервиса.

## Входные порты

| Название  | Тип        |
| :-------- | :--------- |
| Реквизиты | Переменные |
| Параметры | Таблица    |
| Промпты   | Таблица    |
| Настройки | Переменные |

### Переменные в порте "Реквизиты"

| №   | Метка   | Тип                             | Значение по умолчанию |
| :-- | :------ | :------------------------------ | :-------------------- |
| 1   | url     | ![](./img/string.svg) Строковый | null                  |
| 2   | api_key | ![](./img/string.svg) Строковый | null                  |
| 3   | model   | ![](./img/string.svg) Строковый | null                  |

1. **url** — эндпоинт API чата сервиса.
2. **api_key** — API-ключ для аутентификации запросов.
3. **model** — идентификатор модели.

### Структура таблицы "Параметры"

| Метка | Тип                                 | Описание           |
| :---- | :---------------------------------- | :----------------- |
| Name  | ![](./img/string.svg) Строковый     | Имя параметра      |
| Value | ![](./img/undefined.svg) Переменный | Значение параметра |

### Структура таблицы "Промпты"

| Метка   | Тип                             | Описание               |
| :------ | :------------------------------ | :--------------------- |
| Промпты | ![](./img/string.svg) Строковый | JSON‑массив            |

### Переменные в порте "Настройки"

| №   | Метка                          | Тип                               | Значение по умолчанию |
| :-- | :----------------------------- | :-------------------------------- | :-------------------- |
| 1   | Вложенная структура параметров | ![](./img/logical.svg) Логический | false                 |

1. **Вложенная структура параметров** — если флаг `True`, то параметры будут вложены в массив **options**. Это характерно для обращения к **Ollama API**. По умолчанию `false`.

## Выходные порты

| Название  | Тип        |
| :-------- | :--------- |
| Реквизиты | Переменные |
| Запросы   | Таблица    |

### Переменные в порте "Реквизиты"

| №   | Метка   | Тип                             |
| :-- | :------ | :------------------------------ |
| 1   | url     | ![](./img/string.svg) Строковый |
| 2   | api_key | ![](./img/string.svg) Строковый |

### Структура таблицы "Запросы"

| Метка  | Тип                             | Описание    |
| :----- | :------------------------------ | :---------- |
| Запрос | ![](./img/string.svg) Строковый | JSON-строка |