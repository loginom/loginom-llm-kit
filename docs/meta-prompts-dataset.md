# meta-Промпты. Датасет

[Назад к списку компонентов](../README.md)

## Назначение

Мета-компонент для импорта и преобразования структуры промпта в JSON-массив с подстановкой переменных. Включает в себя функционал компонентов [Промпт. Импорт](./prompt-import.md) и [Промпт. Список JSON](./prompt-json-list.md).

## Входные порты

| Название          | Тип        |
| :---------------- | :--------- |
| Структура промпта | Таблица    |
| Датасет           | Таблица    |
| Настройки         | Переменные |

### Структура таблицы "Структура промпта"

| Метка      | Тип                             | Описание                             |
| :--------- | :------------------------------ | :----------------------------------- |
| Роль       | ![](./img/string.svg) Строковый | Допустимые значения `system`, `user`, `assistant`|
| Содержимое | ![](./img/string.svg) Строковый | Текст. Допускается использование переменных в формате {имя_переменной}|

### Структура таблицы "Датасет"

Имена столбцов таблицы должны совпадать с именами переменных промпта, иначе подстановка переменных не произойдет.

### Переменные в порте "Настройки"

| №   | Метка             | Тип                               | Значение по умолчанию |
| :-- | :---------------- | :-------------------------------- | :-------------------- |
| 1   | Имя файла         | ![](./img/string.svg) Строковый   | prompts.yml           |
| 2   | Использовать файл | ![](./img/logical.svg) Логический | true                  |

1. **Имя файла** — имя файла, включая расширение файла, в котором описан промпт. По умолчанию `prompts.yml`.
2. **Использовать файл** — использовать промпт из файла. По умолчанию `true`. При значении `false` промпт используются из входного порта **Структура промпта**.

## Выходные порты

| Название     | Тип        |
| :----------- | :--------- |
| Промпты      | Таблица    |
| Путь к файлу | Переменные |

### Структура таблицы "Промпты"

| Метка   | Тип                             | Описание               |
| :------ | :------------------------------ | :--------------------- |
| Промпты | ![](./img/string.svg) Строковый | JSON‑массив            |

### Переменные в порте "Путь к файлу"

| №   | Метка        | Тип                             |
| :-- | :----------- | :------------------------------ |
| 1   | Путь к файлу | ![](./img/string.svg) Строковый |